# HelloFresh_Data_Engineer
This project aimed to solve a problem posed for Data Engineer test by HelloFresh.

# Problem Statement

There was dataset given which contained delivery dates for meal kits, UK postcodes of the address where the kits were supposed to be delivered and the cool pouch sizes which can be sent with the package. The requirement was to find the number of cool pouch sizes using the temperature on the delivery day and from a set of temperature ranges provided.

# How to run the code.

1. Pull the whole repository to a local machine.
2. Change the path of volume mount in docker compose file to the current path of the project directory.
    volumes:
      - type: bind
        source: C:/HelloFresh_Data_Test
        target: /data
        
3. Change the path in source to the directory of the project where this code will be kept and run.  
3. run command-- docker compose up

Note - docker should be installed on the system. 

# Output

The output will be generated by the python script in ouputfiles folder, named as results.csv
In the results.csv, find column pouch_size_needed which will have the required data.
The code consists of two API calls: 
1. First to fetch latitude and longitude from UK postcodes
2. The second call uses the latitude and longitude data and given delivery dates to fetch the average temperature on a given day.
3. The code takes sometime to run around 15 minutes because of the two API calls, as I had to use free APIs and they tend to be a bit slower.

# Issues in Data

1. There were some postcodes for which the API could not return Latitude and Longitude values and there were some Latitude longitude combinations for which Meteostat could not return daily temperature.

# Issues rectified

Assumptions:

1. All postcodes were from UK and delivery dates were for month of february. 
2. Temperature across UK does not varry heavily for a single day, so average of all UK temperature should be close to the real temperature.

Rectification:

I tried to maintain completeness of data by averaging out the temperature values for each day and replacing the missing values with the average for that day.



